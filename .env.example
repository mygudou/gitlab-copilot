# 环境变量配置
# 支持变量替换: ${VAR} 或 $VAR 语法

AI_EXECUTOR=codex

# Claude API 配置
ANTHROPIC_BASE_URL=https://api.anthropic.com
ANTHROPIC_AUTH_TOKEN=sk-your-anthropic-token

# GitLab 传统模式配置（单用户）
GITLAB_BASE_URL=https://gitlab.com
GITLAB_TOKEN=glpat-your-gitlab-token

# Webhook 配置
WEBHOOK_SECRET=your-webhook-secret
PORT=3000

# 平台化（多用户）配置
# 如果走 MongoDB + 加密密钥模式，请填写以下变量
# 示例: mongodb://username:password@host:20000/?authSource=admin
MONGODB_URI=
MONGODB_DB=gitlab-copilot
# 32 字节随机字符串，例如: openssl rand -hex 32
ENCRYPTION_KEY=
# 工作目录配置
WORK_DIR=/tmp/gitlab-copilot-work

# 工作区清理配置
WORKSPACE_MAX_IDLE_TIME=24h
WORKSPACE_CLEANUP_INTERVAL=6h

# 日志配置
LOG_LEVEL=info

# Session 管理配置
SESSION_ENABLED=true
SESSION_MAX_IDLE_TIME=7d
SESSION_MAX_SESSIONS=1000
SESSION_CLEANUP_INTERVAL=1h
SESSION_STORE_PATH=/tmp/gitlab-copilot-work/sessions.json

# JWT 认证配置
JWT_SECRET=your-jwt-secret-key-at-least-32-characters
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# 密码安全配置
BCRYPT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=15

# Web UI 配置
WEB_UI_ENABLED=true
WEB_UI_BASE_PATH=/auth
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# 速率限制配置
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=30
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# 安全配置
SESSION_TIMEOUT=30m
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict
TRUST_PROXY=false
