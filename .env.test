# Test Environment Configuration
# This file contains environment variables for running tests

# Test database (in-memory MongoDB will be used)
MONGODB_URI=mongodb://localhost:27017/test-gitlab-copilot
MONGODB_DB=test-gitlab-copilot

# Test encryption key
ENCRYPTION_KEY=test-encryption-key-32-chars-long

# JWT test configuration
JWT_SECRET=test-jwt-secret-key-for-testing-only
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Password hashing (faster for tests)
BCRYPT_ROUNDS=4
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=1

# GitLab test configuration
GITLAB_TOKEN=test-token
WEBHOOK_SECRET=test-webhook-secret
GITLAB_BASE_URL=https://gitlab.example.com

# Web UI test configuration
WEB_UI_ENABLED=true
WEB_UI_BASE_PATH=/auth
CORS_ORIGINS=http://localhost:3000

# Rate limiting (more permissive for tests)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# Security settings for tests
SESSION_TIMEOUT=30m
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax
TRUST_PROXY=false

# Session management for tests
SESSION_ENABLED=true
SESSION_MAX_IDLE_TIME=1h
SESSION_MAX_SESSIONS=100
SESSION_CLEANUP_INTERVAL=5m

# Logging for tests
LOG_LEVEL=error

# Work directory for tests
WORK_DIR=/tmp/gitlab-copilot-test-work